-- start_matchignore
# match ignore the gpmon WARNING message
m/^WARNING:  gpmon:.*Connection refused.*/
s/^WARNING:  gpmon:.*Connection refused.*//

# MPP-20400
m/^WARNING:  gpmon:.*No buffer space available socket.*/
s/^WARNING:  gpmon:.*No buffer space available socket.*//

m/^ Optimizer status:.*/
s/^ Optimizer status:.*//

m/^WARNING:  could not close temporary file .*: No such file or directory/
s/^WARNING:  could not close temporary file .*: No such file or directory//
-- end_matchignore

-- start_matchsubs
#entry db matches
m/\s+\(entry db(.*)+\spid=\d+\)/
s/\s+\(entry db(.*)+\spid=\d+\)//

#remove unecessary diffs due to SOMEFILE:SOMEFUNC
m/\(SOMEFILE:SOMEFUNC\)/
s/\(SOMEFILE:SOMEFUNC\)//

m/\(COptTasks\.cpp:\d+\)/
s/\(COptTasks\.cpp:\d+\)//

m/\(CTranslatorUtils\.cpp:\d+\)/
s/\(CTranslatorUtils\.cpp:\d+\)//

m/\(cdbdisp\.c:\d+\)/
s/\(cdbdisp\.c:\d+\)//

m/.*NOTICE.*TransactionInProgress.*can't shrink relation.*/
s/.*NOTICE.*TransactionInProgress.*can't shrink relation.*/TransactionInProgress can't shrink relation/

m/^ERROR:  invalid XML document.*/
s/^ERROR:  invalid XML document.*/ERROR:  invalid XML document/

# Mask out some numbers (parts of partition names) that vary from run to run.
m/overlaps existing partition "r\d+"/
s/overlaps existing partition "r\d+"/partition "r##########"/

# Mask out some numbers (part of temp table schema) that vary from run to run.
m/Table "pg_temp_\d+.temp/
s/Table "pg_temp_\d+.temp/Table "pg_temp_#####/

# Mask out Log & timestamp for orca message that has feature not supported.
m/^LOG.*\"Feature/
s/^LOG.*\"Feature/\"Feature/

# Mask out timestamp and whoami message for gpfaultinjector
m/^\d+.*gpfaultinjector.*-\[INFO\]:-/
s/^\d+.*gpfaultinjector.*-\[INFO\]:-//

# Mask out line numbers
m/ERROR:  <SEGID> is required for file name.*/
s/ERROR:  <SEGID> is required for file name.*/ERROR:  <SEGID> is required for file name/
-- end_matchsubs
